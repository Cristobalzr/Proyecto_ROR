function createMap(map){
  L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
    maxZoom: 18,
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
      '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
      'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
    id: 'mapbox.streets'
  }).addTo(map);
}

function showPetsLocatios(map){
  $.ajax("/pets/locations")
    .done(function(data){
      console.log(data);
      data.forEach(function(location){
        if(location.latitude && location.longitude){
          L.marker([location.latitude, location.longitude]).addTo(map);
        }
      });
    });
}

function selectPetLocation(map){
  var marker = {}
  map.on('click',function(e){
    lat = e.latlng.lat;
    lon = e.latlng.lng;

    console.log("Estas en LAT: "+ lat+" y LONG: "+lon );
    $("#pet_latitude").val(lat);
    $("#pet_longitude").val(lon);

    if (marker != undefined) {
        map.removeLayer(marker);
      };
    marker = L.marker([lat,lon]).addTo(map);
  });
}
